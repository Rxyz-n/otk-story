{"version":3,"sources":["assets/logo.png","utils/theme.js","context/ThemeContext.js","context/StoriesContext.js","styles/Global.js","components/Layout/Styles.js","components/Layout/Header.js","components/Layout/Content.js","components/Layout/Footer.js","components/DatePicker/Styles.js","components/DatePicker/index.js","utils/dateTime.js","components/Stories/Styles.js","components/Spin/Styles.js","components/Spin/index.js","components/Story/Styles.js","components/Image/Styles.js","components/Image/ImageLoading.js","components/Image/ImageError.js","components/Image/index.js","components/Story/index.js","components/Stories/index.js","components/Modal/Styles.js","components/Modal/index.js","App.js","index.js"],"names":["module","exports","THEME_PATH","process","themeConfig","default","localStorage","getItem","themeMap","light","dark","createLinkEl","attrs","link","document","createElement","Object","keys","forEach","key","onload","insertStyle","node","target","head","querySelector","insertBefore","ThemeContext","createContext","ThemeProvider","children","useState","status","setStatus","currentTheme","setCurrentTheme","useEffect","theme","themePrefetch","rel","as","href","id","switchTheme","setTimeout","body","className","prevTheme","getElementById","remove","linkEl","type","setItem","Provider","value","themes","reduce","acc","mode","StoriesContext","initState","date","moment","loading","error","stories","story","currentImage","reducer","state","payload","find","s","currentImageIdx","findIndex","Id","idx","isFirstImage","isLastImage","length","newIdx","useStoriesContext","useContext","StoriesProvider","useReducer","dispatch","GlobalStyle","createGlobalStyle","css","StyledLayout","styled","Layout","StyledHeader","Header","StyledContent","Content","StyledFooter","Footer","src","logo","alt","disabled","checkedChildren","unCheckedChildren","checked","onChange","DatePickerWrap","div","DatePicker","setDate","handleChangeDate","amount","newDate","clone","add","handleDateChage","momentDate","size","format","allowClear","icon","LeftOutlined","onClick","RightOutlined","StoriesWrap","spinning1","keyframes","spinning2","spinning3","SpinWrap","Spinner","SpinInner","Spin","StoryCollapse","Collapse","StoryPanelHeader","StoryCard","Card","EmptyMessage","ImageWrap","ImageSkeleton","Skeleton","ImageErrorMessage","ImageLoading","avatar","shape","active","paragraph","title","ImageError","WarningOutlined","Image","onImageClick","props","setLoading","setError","imageRef","useRef","img","onImageLoad","onerror","onImageError","current","ref","undefined","style","cursor","Story","handleOpenImageDetail","window","open","defaultActiveKey","expandIcon","isActive","CaretRightOutlined","rotate","Panel","header","map","url","ThumbUrl","Name","Url","hoverable","cover","actions","FileImageOutlined","DownloadOutlined","a","click","Stories","fetchStories","fetchStory","fetch","response","json","i","currentDate","promises","push","subtract","Promise","all","notification","destroy","message","description","ModalIcon","StoryModal","zoom","setZoom","modalWidth","setModalWidth","addEventListener","handleKeyDown","removeEventListener","handleCloseModal","handleChangeImage","pos","code","Fragment","CloseOutlined","ArrowLeftOutlined","ArrowRightOutlined","closable","visible","onCancel","centered","destroyOnClose","footer","width","prev","App","Modal","ReactGA","initialize","pageview","ReactDOM","render","Global"],"mappings":"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","file":"static/js/main.1354fc3b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.6ad731b9.png\";","const THEME_PATH = `${process.env.PUBLIC_URL}/theme`;\r\nconst DEFAULT_THEME = localStorage.getItem('APP_THEME') || 'light';\r\n\r\nexport const themeConfig = {\r\n  default: DEFAULT_THEME,\r\n  themeMap: {\r\n    light: `${THEME_PATH}/light.theme.css`,\r\n    dark: `${THEME_PATH}/dark.theme.css`\r\n  }\r\n};\r\n\r\nexport const createLinkEl = attrs => {\r\n  const link = document.createElement('link');\r\n\r\n  Object.keys(attrs).forEach(key => {\r\n    if (key === 'onload') {\r\n      link.onload = attrs.onload;\r\n    }\r\n    link[key] = attrs[key];\r\n  });\r\n\r\n  return link;\r\n};\r\n\r\nexport const insertStyle = node => {\r\n  const target = document.head.querySelector('title');\r\n  document.head.insertBefore(node, target);\r\n};\r\n\r\nexport const getThemeKeys = () => {\r\n  return Object.keys(themeConfig.themeMap).reduce((acc, key) => {\r\n    acc[key] = key;\r\n    return acc;\r\n  }, {});\r\n};\r\n","import React, { createContext, useState, useEffect, useContext } from 'react';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\n\nimport {\n  createLinkEl,\n  insertStyle,\n  themeConfig,\n  getThemeKeys\n} from 'utils/theme';\n\nconst ThemeContext = createContext();\nconst CURRENT_THEME_ID = 'current-theme';\n\nfunction ThemeProvider({ children }) {\n  const [status, setStatus] = useState('loading');\n  const [currentTheme, setCurrentTheme] = useState(null);\n\n  useEffect(() => {\n    Object.keys(themeConfig.themeMap).forEach(theme => {\n      const themePrefetch = createLinkEl({\n        rel: 'prefetch',\n        as: 'style',\n        href: themeConfig.themeMap[theme],\n        id: `${theme}-theme-prefetch`\n      });\n      insertStyle(themePrefetch);\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    switchTheme(themeConfig.default);\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (status === 'loaded') {\n      setTimeout(() => {\n        document.body.className = 'theme-loaded'\n      }, 100)\n    }\n  }, [status]);\n\n  const switchTheme = theme => {\n    if (theme === currentTheme) return;\n\n    const prevTheme = document.getElementById(CURRENT_THEME_ID);\n    if (prevTheme) prevTheme.remove();\n\n    document.body.className = 'theme-loading';\n    setStatus('loading');\n\n    const linkEl = createLinkEl({\n      type: 'text/css',\n      rel: 'stylesheet',\n      id: CURRENT_THEME_ID,\n      href: themeConfig.themeMap[theme],\n      onload: () => setStatus('loaded')\n    });\n\n    localStorage.setItem('APP_THEME', theme);\n    insertStyle(linkEl);\n    setCurrentTheme(theme);\n  };\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        status,\n        themes: getThemeKeys(),\n        currentTheme,\n        switchTheme\n      }}\n    >\n      <StyledThemeProvider theme={{ mode: currentTheme }}>\n        {children}\n      </StyledThemeProvider>\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useThemeContext() {\n  return useContext(ThemeContext);\n}\n\nexport default ThemeProvider;\n","import React, { createContext, useReducer, useContext } from 'react';\r\nimport moment from 'moment';\r\n\r\nconst StoriesContext = createContext();\r\n\r\nconst initState = {\r\n  date: moment(),\r\n  loading: false,\r\n  error: false,\r\n  stories: [],\r\n  story: [],\r\n  currentImage: {}\r\n};\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case 'DATE_CHANGE':\r\n      return { ...state, date: payload };\r\n    case 'FETCHING':\r\n      return { ...state, loading: true, error: false };\r\n    case 'SET_STORIES':\r\n      return { ...state, loading: false, stories: payload };\r\n    case 'FETCH_FAILED':\r\n      return { ...state, loading: false, error: true };\r\n    case 'ADD_STORY':\r\n      const story = state.stories.find(s => s.date === payload.date).story;\r\n      const currentImageIdx = story.findIndex(s => s.Id === payload.id);\r\n      return {\r\n        ...state,\r\n        story,\r\n        currentImage: {\r\n          ...story[currentImageIdx],\r\n          idx: currentImageIdx,\r\n          isFirstImage: currentImageIdx === 0,\r\n          isLastImage: currentImageIdx === story.length - 1\r\n        }\r\n      };\r\n    case 'REMOVE_STORY':\r\n      return { ...state, story: [], currentImage: {} };\r\n    case 'CHANGE_CURRENT_IMAGE':\r\n      const newIdx = state.currentImage.idx + payload;\r\n      return {\r\n        ...state,\r\n        currentImage: {\r\n          ...state.story[newIdx],\r\n          idx: newIdx,\r\n          isFirstImage: newIdx === 0,\r\n          isLastImage: newIdx === state.story.length - 1\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction StoriesProvider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, initState);\r\n\r\n  return (\r\n    <StoriesContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </StoriesContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useStoriesContext() {\r\n  return useContext(StoriesContext);\r\n}\r\n\r\nexport default StoriesProvider;\r\n","import { createGlobalStyle, css } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  ${({ theme }) => css`\n    body {\n      font-family: 'IBM Plex Sans', sans-serif;\n      background: ${theme.mode === 'dark' ? '#18191a' : '#eef0f1'};\n      color: ${theme.mode === 'dark' ? '#ffffff' : '#000000'};\n      transition: opacity 0.2s;\n\n      &.theme-loading {\n        display: none;\n      }\n      &.theme-loaded {\n        display: block;\n      }\n    }\n  `}\n\n  .ant-back-top {\n    right: 30px;\n    bottom: 30px;\n  }\n\n  .ant-back-top-icon {\n    font-size: 20px;\n  }\n\n  .ant-modal-mask {\n    background-color: rgba(0,0,0,.7);\n  }\n\n  .ant-modal-body {\n    padding: 0;\n  }\n\n  .ant-modal-body > div:not(.loaded) {\n    height: 45rem;\n  }\n\n  .ant-switch-checked {\n    background-color: #25c6c6;\n  }\n\n  ::-webkit-scrollbar {\n    width: 13px;\n    height: 10px;\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-button {\n    width: 0;\n    height: 0;\n    display: none;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    height: 6px;\n    border: 2px solid transparent;\n    background-clip: padding-box;\n    border-radius: 7px;\n    background-color: ${({ theme }) =>\n      theme.mode === 'dark' ? 'rgba(255, 255, 255, 0.6)' : 'rgba(0,0,0,.2)'};\n  }\n`;\n\nexport default GlobalStyle;\n","import styled from 'styled-components';\nimport { Layout } from 'antd';\n\nexport const StyledLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n`;\n\nexport const StyledHeader = styled(Layout.Header)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n\n  .logo {\n    width: 150px;\n\n    img {\n      width: 100%;\n      margin-bottom: 4px;\n    }\n  }\n`;\n\nexport const StyledContent = styled(Layout.Content)`\n  max-width: 1920px;\n  width:100%;\n  padding: 0 50px;\n  margin: 50px auto 0 auto;\n  flex-grow: 1;\n`;\n\nexport const StyledFooter = styled(Layout.Footer)`\n  padding: 1rem 50px;\n  font-size: 1rem;\n  letter-spacing: 0.5px;\n\n  a:hover {\n    text-decoration: underline;\n  }\n`;\n","import React from 'react';\nimport { Switch } from 'antd';\n\nimport logo from 'assets/logo.png';\nimport { useThemeContext } from 'context/ThemeContext';\nimport { StyledHeader } from './Styles';\n\nfunction Header() {\n  const { currentTheme, switchTheme, status } = useThemeContext();\n\n  const handleSwitchTheme = () => {\n    switchTheme(currentTheme === 'light' ? 'dark' : 'light');\n  };\n\n  return (\n    <StyledHeader>\n      <a href=\"/\" className=\"logo\">\n        <img src={logo} alt=\"logo\" />\n      </a>\n      <Switch\n        disabled={status === 'loading'}\n        checkedChildren=\"light\"\n        unCheckedChildren=\"dark\"\n        checked={currentTheme === 'light'}\n        onChange={handleSwitchTheme}\n      />\n    </StyledHeader>\n  );\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nimport { StyledContent } from './Styles';\r\n\r\nfunction Content({ children }) {\r\n  return <StyledContent>{children}</StyledContent>;\r\n}\r\n\r\nexport default Content;\r\n","import React from 'react';\r\n\r\nimport { StyledFooter } from './Styles';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <StyledFooter>\r\n      Created by{' '}\r\n      <a\r\n        href=\"https://www.facebook.com/Nanoooooooooooooooooooooooooooooooooooooooooooooox\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        Nano\r\n      </a>{' '}\r\n      ❤️{' '}\r\n      <a\r\n        href=\"https://github.com/Nagai-Nano/otk-story\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        Otk-story\r\n      </a>\r\n    </StyledFooter>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import styled from 'styled-components';\r\n\r\nexport const DatePickerWrap = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n\r\n  button {\r\n    margin-left: 6px;\r\n\r\n    span {\r\n      font-size: 15px !important;\r\n    }\r\n  }\r\n\r\n  .ant-picker {\r\n    width: 16rem;\r\n\r\n    @media (max-width: 767.98px) {\r\n      flex-grow: 1;\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport moment from 'moment';\r\nimport { DatePicker as AntdDatePicker, Button } from 'antd';\r\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\nimport { DatePickerWrap } from './Styles';\r\n\r\nimport { DISPLAY_DATE_FORMAT } from 'utils/dateTime';\r\nimport { useStoriesContext } from 'context/StoriesContext';\r\n\r\nfunction DatePicker() {\r\n  const [date, setDate] = useState(moment());\r\n  const { state, dispatch } = useStoriesContext();\r\n\r\n  const handleChangeDate = amount => () => {\r\n    const newDate = date.clone().add(amount, 'days');\r\n    handleDateChage(newDate);\r\n  };\r\n\r\n  const handleDateChage = momentDate => {\r\n    setDate(momentDate);\r\n    dispatch({ type: 'DATE_CHANGE', payload: momentDate });\r\n  };\r\n\r\n  return (\r\n    <DatePickerWrap>\r\n      <AntdDatePicker\r\n        size=\"large\"\r\n        value={date}\r\n        format={DISPLAY_DATE_FORMAT}\r\n        allowClear={false}\r\n        onChange={handleDateChage}\r\n        disabled={state.loading}\r\n      />\r\n      <Button\r\n        size=\"large\"\r\n        icon={<LeftOutlined />}\r\n        loading={state.loading}\r\n        disabled={state.loading}\r\n        onClick={handleChangeDate(-7)}\r\n      />\r\n      <Button\r\n        size=\"large\"\r\n        icon={<RightOutlined />}\r\n        loading={state.loading}\r\n        disabled={state.loading}\r\n        onClick={handleChangeDate(7)}\r\n      />\r\n    </DatePickerWrap>\r\n  );\r\n}\r\n\r\nexport default DatePicker;\r\n","export const DISPLAY_DATE_FORMAT = 'DD/MM/YYYY';\r\nexport const FETCH_DATE_FORMAT = 'YYYY-MM-DD';\r\n","import styled from 'styled-components';\r\n\r\nexport const StoriesWrap = styled.div`\r\n  margin-top: 25px;\r\n`;\r\n","import styled, { keyframes } from 'styled-components';\r\n\r\nconst spinning1 = keyframes`\r\n  100% {\r\n    transform: rotateZ(120deg) rotateX(66deg) rotateZ(360deg);\r\n  }\r\n`;\r\n\r\nconst spinning2 = keyframes`\r\n  100% {\r\n    transform: rotateZ(240deg) rotateX(66deg) rotateZ(360deg);\r\n  }\r\n`;\r\n\r\nconst spinning3 = keyframes`\r\n  100% {\r\n    transform: rotateZ(360deg) rotateX(66deg) rotateZ(360deg);\r\n  }\r\n`;\r\n\r\nexport const SpinWrap = styled.div`\r\n  width: 100%;\r\n  height: 50vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Spinner = styled.div`\r\n  height: 60px;\r\n  width: 60px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SpinInner = styled.div`\r\n  position: relative;\r\n  display: block;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  .line {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 50%;\r\n    animation-duration: 1s;\r\n    border-left-width: calc(60px / 25);\r\n    border-top-width: calc(60px / 25);\r\n    border-left-color: #13c2c2;\r\n    border-left-style: solid;\r\n    border-top-style: solid;\r\n    border-top-color: transparent;\r\n\r\n    &:nth-child(1) {\r\n      animation: ${spinning1} 1s linear infinite;\r\n      transform: rotateZ(120deg) rotateX(66deg) rotateZ(0deg);\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      animation: ${spinning2} 1s linear infinite;\r\n      transform: rotateZ(240deg) rotateX(66deg) rotateZ(0deg);\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      animation: ${spinning3} 1s linear infinite;\r\n      transform: rotateZ(360deg) rotateX(66deg) rotateZ(0deg);\r\n    }\r\n  }\r\n\r\n  .circle {\r\n    display: block;\r\n    position: absolute;\r\n    color: #13c2c2;\r\n    font-size: calc(60px * 0.24);\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport { SpinWrap, Spinner, SpinInner } from './Styles';\r\n\r\nfunction Spin() {\r\n  return (\r\n    <SpinWrap>\r\n      <Spinner>\r\n        <SpinInner>\r\n          <div className=\"line\" />\r\n          <div className=\"line\" />\r\n          <div className=\"line\" />\r\n          <div className=\"circle\">&#9679;</div>\r\n        </SpinInner>\r\n      </Spinner>\r\n    </SpinWrap>\r\n  );\r\n}\r\n\r\nexport default Spin;\r\n","import styled from 'styled-components';\r\nimport { Collapse, Card } from 'antd';\r\n\r\nexport const StoryCollapse = styled(Collapse)`\r\n  margin-bottom: 25px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 0 1px\r\n    ${({ theme }) => (theme.mode === 'dark' ? 'rgba(0,0,0,.2)' : '#08090a0d')};\r\n  border: none;\r\n\r\n  .ant-collapse-item,\r\n  .ant-collapse-header {\r\n    border-radius: 4px !important;\r\n    border-bottom: 0;\r\n  }\r\n\r\n  .ant-collapse-content {\r\n    border-top-color: ${({ theme }) =>\r\n      theme.mode === 'dark' ? '#393a3b' : '#08090a0d'};\r\n  }\r\n\r\n  .ant-collapse-content-box {\r\n    display: grid;\r\n    grid-template-columns: repeat(6, 1fr);\r\n    grid-gap: 1rem;\r\n\r\n    @media (max-width: 1499.98px) {\r\n      grid-template-columns: repeat(5, 1fr);\r\n    }\r\n\r\n    @media (max-width: 1199.98px) {\r\n      grid-template-columns: repeat(4, 1fr);\r\n    }\r\n\r\n    @media (max-width: 991.98px) {\r\n      grid-template-columns: repeat(3, 1fr);\r\n    }\r\n\r\n    @media (max-width: 767.98px) {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n\r\n    @media (max-width: 575.98px) {\r\n      grid-template-columns: 1fr;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StoryPanelHeader = styled.div`\r\n  font-size: 1.4rem;\r\n  font-weight: 500;\r\n  letter-spacing: 1px;\r\n  margin-left: 7px;\r\n`;\r\n\r\nexport const StoryCard = styled(Card)`\r\n  border-radius: 4px;\r\n  background: transparent;\r\n  border-color: ${({ theme }) =>\r\n    theme.mode === 'dark' ? '#393a3b' : '#f0f0f0'};\r\n  overflow: hidden;\r\n\r\n  &:hover .ant-card-cover img {\r\n    transform: scale(1.05);\r\n  }\r\n\r\n  .ant-card-body {\r\n    display: none;\r\n  }\r\n\r\n  .ant-card-cover {\r\n    height: 22rem;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .ant-card-actions {\r\n    border-radius: 4px;\r\n    border-top: 0;\r\n    background: ${({ theme }) =>\r\n      theme.mode === 'dark' ? '#242526' : '#ffffff'};\r\n\r\n    .anticon {\r\n      opacity: 1;\r\n      color: ${({ theme }) =>\r\n        theme.mode === 'dark' ? '#ffffffa6' : '#8c8c8c'};\r\n\r\n      &:hover {\r\n        color: #13c2c2;\r\n      }\r\n    }\r\n\r\n    li:not(:last-child) {\r\n      border-right-color: ${({ theme }) =>\r\n        theme.mode === 'dark' ? '#ffffffa6' : '#f0f0f0'};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const EmptyMessage = styled.div`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  text-transform: uppercase;\r\n  color: ${({ theme }) =>\r\n    theme.mode === 'dark' ? 'rgba(255,255,255,.4)' : 'rgba(0,0,0,.4)'};\r\n  padding: 1rem;\r\n  letter-spacing: 1px;\r\n`;\r\n","import styled from 'styled-components';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport const ImageWrap = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  img {\r\n    width: 0;\r\n    height: 0;\r\n    object-fit: cover;\r\n    opacity: 0;\r\n    transition: 0.2s;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  &.loaded img {\r\n    opacity: 1;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nexport const ImageSkeleton = styled(Skeleton)`\r\n  height: 100%;\r\n\r\n  .ant-skeleton-header,\r\n  .ant-skeleton-avatar {\r\n    padding: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    border-radius: 4px;\r\n  }\r\n`;\r\n\r\nexport const ImageErrorMessage = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #f5222d;\r\n  font-size: 1.1rem;\r\n  letter-spacing: 0.2px;\r\n  background: ${({ theme }) =>\r\n    theme.mode === 'dark' ? 'rgba(255,255,255,.03)' : 'rgba(0,0,0,.03)'};\r\n\r\n  .anticon-warning {\r\n    font-size: 2rem;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport { ImageSkeleton } from './Styles';\r\n\r\nfunction ImageLoading() {\r\n  return (\r\n    <ImageSkeleton\r\n      avatar={{ shape: 'square' }}\r\n      active\r\n      loading\r\n      paragraph={false}\r\n      title={false}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ImageLoading;\r\n","import React from 'react';\r\nimport { WarningOutlined } from '@ant-design/icons';\r\n\r\nimport { ImageErrorMessage } from './Styles';\r\n\r\nfunction ImageError() {\r\n  return (\r\n    <ImageErrorMessage>\r\n      <WarningOutlined />\r\n      <span>Failed to load image</span>\r\n    </ImageErrorMessage>\r\n  );\r\n}\r\n\r\nexport default ImageError;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport { ImageWrap } from './Styles';\r\n\r\nimport ImageLoading from './ImageLoading';\r\nimport ImageError from './ImageError';\r\n\r\nfunction Image({ src, alt, onImageClick, ...props }) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const imageRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const img = document.createElement('img');\r\n    img.src = src;\r\n    img.onload = onImageLoad;\r\n    img.onerror = onImageError;\r\n    // eslint-disable-next-line\r\n  }, [src]);\r\n\r\n  const onImageLoad = () => {\r\n    if (imageRef && imageRef.current) {\r\n      imageRef.current.src = src;\r\n      setError(false);\r\n      setLoading(false);\r\n      props.onImageLoad && props.onImageLoad();\r\n    }\r\n  };\r\n\r\n  const onImageError = () => {\r\n    setError(true);\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <ImageWrap className={!loading && !error ? 'loaded' : ''}>\r\n      {loading && <ImageLoading />}\r\n      {error && <ImageError />}\r\n      {!error && (\r\n        <img\r\n          {...props}\r\n          alt={alt}\r\n          ref={imageRef}\r\n          onClick={!loading ? onImageClick : undefined}\r\n          style={{\r\n            cursor: onImageClick && !loading && !error ? 'pointer' : 'auto'\r\n          }}\r\n        />\r\n      )}\r\n    </ImageWrap>\r\n  );\r\n}\r\n\r\nexport default Image;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport {\r\n  CaretRightOutlined,\r\n  FileImageOutlined,\r\n  DownloadOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport {\r\n  StoryCollapse,\r\n  StoryPanelHeader,\r\n  StoryCard,\r\n  EmptyMessage\r\n} from './Styles';\r\n\r\nimport { DISPLAY_DATE_FORMAT } from 'utils/dateTime';\r\nimport { useStoriesContext } from 'context/StoriesContext';\r\nimport Image from 'components/Image';\r\n\r\nfunction Story({ date, story }) {\r\n  const { dispatch } = useStoriesContext();\r\n\r\n  const handleOpenImageDetail = id => () => {\r\n    window.open(`https://otakusan.net/Cosplay/PictureDetail/${id}`, '_blank');\r\n  };\r\n\r\n  const handleDownloadImage = url => () => {\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.target = '_blank';\r\n    a.click();\r\n  };\r\n\r\n  const handleImageClick = id => () => {\r\n    dispatch({\r\n      type: 'ADD_STORY',\r\n      payload: { id, date }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <StoryCollapse\r\n      defaultActiveKey={[date]}\r\n      expandIcon={({ isActive }) => (\r\n        <CaretRightOutlined rotate={isActive ? 90 : 0} />\r\n      )}\r\n    >\r\n      <StoryCollapse.Panel\r\n        header={\r\n          <StoryPanelHeader>\r\n            {moment(date).format(DISPLAY_DATE_FORMAT)}\r\n          </StoryPanelHeader>\r\n        }\r\n        key={date}\r\n      >\r\n        {!!story.length ? (\r\n          story.map(({ Id, ThumbUrl, Name, Url }) => (\r\n            <StoryCard\r\n              key={Id}\r\n              hoverable\r\n              cover={\r\n                <Image\r\n                  src={ThumbUrl}\r\n                  alt={Name}\r\n                  onImageClick={handleImageClick(Id)}\r\n                />\r\n              }\r\n              actions={[\r\n                <FileImageOutlined\r\n                  key=\"file\"\r\n                  onClick={handleOpenImageDetail(Id)}\r\n                />,\r\n                <DownloadOutlined\r\n                  key=\"download\"\r\n                  onClick={handleDownloadImage(Url)}\r\n                />\r\n              ]}\r\n            />\r\n          ))\r\n        ) : (\r\n          <EmptyMessage>No images found</EmptyMessage>\r\n        )}\r\n      </StoryCollapse.Panel>\r\n    </StoryCollapse>\r\n  );\r\n}\r\n\r\nexport default Story;\r\n","import React, { useEffect } from 'react';\r\nimport { notification } from 'antd';\r\n\r\nimport { StoriesWrap } from './Styles';\r\n\r\nimport { FETCH_DATE_FORMAT } from 'utils/dateTime';\r\nimport { useStoriesContext } from 'context/StoriesContext';\r\nimport Spin from 'components/Spin';\r\nimport Story from 'components/Story';\r\n\r\nconst END_POINT =\r\n  'https://service.otakuscan.net/api/cosplayservice/Cosplaybydate';\r\n\r\nfunction Stories() {\r\n  const { state, dispatch } = useStoriesContext();\r\n\r\n  useEffect(() => {\r\n    fetchStories();\r\n    // eslint-disable-next-line\r\n  }, [state.date]);\r\n\r\n  const fetchStory = async date => {\r\n    const response = await fetch(`${END_POINT}?date=${date}`);\r\n    const story = await response.json();\r\n    return { date, story };\r\n  };\r\n\r\n  const getDate = (date, amount) => {\r\n    return date.subtract(amount, 'days').format(FETCH_DATE_FORMAT);\r\n  };\r\n\r\n  const fetchStories = async () => {\r\n    let i = 0;\r\n    const currentDate = state.date.clone();\r\n    const promises = [];\r\n\r\n    try {\r\n      dispatch({ type: 'FETCHING' });\r\n\r\n      do {\r\n        promises.push(fetchStory(getDate(currentDate, !i ? 0 : 1)));\r\n        i++;\r\n      } while (7 > i);\r\n\r\n      const stories = await Promise.all(promises);\r\n      dispatch({ type: 'SET_STORIES', payload: stories });\r\n    } catch {\r\n      dispatch({ type: 'FETCH_FAILED' });\r\n\r\n      notification.destroy();\r\n      notification.error({\r\n        message: 'Error',\r\n        description: 'Something went wrong, please try again!'\r\n      });\r\n    }\r\n  };\r\n\r\n  if (state.error) {\r\n    return null;\r\n  }\r\n\r\n  if (state.loading) {\r\n    return <Spin />;\r\n  }\r\n\r\n  return (\r\n    <StoriesWrap>\r\n      {state.stories.map(story => (\r\n        <Story key={story.date} {...story} />\r\n      ))}\r\n    </StoriesWrap>\r\n  );\r\n}\r\n\r\nexport default Stories;\r\n","import styled from 'styled-components';\r\n\r\nexport const ModalIcon = styled.div`\r\n  position: fixed;\r\n  font-size: 1.3rem;\r\n  color: #fff;\r\n  width: 3rem;\r\n  height: 3rem;\r\n  z-index: 3090;\r\n  background: transparent;\r\n  line-height: 3rem;\r\n  text-align: center;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: 0.2s;\r\n\r\n  &:hover {\r\n    background: #fff;\r\n    color: #000;\r\n  }\r\n\r\n  &.close {\r\n    top: 10px;\r\n    right: 10px;\r\n  }\r\n\r\n  &.next {\r\n    right: 12px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n\r\n  &.prev {\r\n    left: 12px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Modal } from 'antd';\r\nimport {\r\n  CloseOutlined,\r\n  ArrowLeftOutlined,\r\n  ArrowRightOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { ModalIcon } from './Styles';\r\n\r\nimport { useStoriesContext } from 'context/StoriesContext';\r\nimport Image from 'components/Image';\r\n\r\nfunction StoryModal() {\r\n  const [zoom, setZoom] = useState(false);\r\n  const [modalWidth, setModalWidth] = useState(600);\r\n  const { state, dispatch } = useStoriesContext();\r\n\r\n  const { story, currentImage } = state;\r\n  const { Name, Url, isFirstImage, isLastImage, idx } = currentImage;\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n    // eslint-disable-next-line\r\n  }, [story, Url]);\r\n\r\n  useEffect(() => {\r\n    setModalWidth(zoom ? 'auto' : 600);\r\n  }, [zoom]);\r\n\r\n  const handleCloseModal = () => {\r\n    dispatch({ type: 'REMOVE_STORY' });\r\n    setZoom(false);\r\n  };\r\n\r\n  const handleChangeImage = pos => () => {\r\n    setModalWidth(600);\r\n    dispatch({ type: 'CHANGE_CURRENT_IMAGE', payload: pos });\r\n  };\r\n\r\n  const handleKeyDown = ({ code }) => {\r\n    if (!story.length && !Url) return;\r\n\r\n    if (code === 'ArrowLeft' && !isFirstImage) {\r\n      handleChangeImage(-1)();\r\n    }\r\n\r\n    if (code === 'ArrowRight' && !isLastImage) {\r\n      handleChangeImage(1)();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!!story.length && (\r\n        <React.Fragment>\r\n          <ModalIcon className=\"close\" onClick={handleCloseModal}>\r\n            <CloseOutlined />\r\n          </ModalIcon>\r\n          {!isFirstImage && (\r\n            <ModalIcon className=\"prev\" onClick={handleChangeImage(-1)}>\r\n              <ArrowLeftOutlined />\r\n            </ModalIcon>\r\n          )}\r\n          {!isLastImage && (\r\n            <ModalIcon className=\"next\" onClick={handleChangeImage(1)}>\r\n              <ArrowRightOutlined />\r\n            </ModalIcon>\r\n          )}\r\n        </React.Fragment>\r\n      )}\r\n      <Modal\r\n        closable={false}\r\n        visible={!!story.length}\r\n        onCancel={handleCloseModal}\r\n        centered\r\n        destroyOnClose\r\n        footer={null}\r\n        width={modalWidth}\r\n      >\r\n        {!!Url && (\r\n          <Image\r\n            key={idx}\r\n            src={Url}\r\n            alt={Name}\r\n            onImageLoad={() => setModalWidth(prev => (zoom ? 'auto' : prev))}\r\n            onImageClick={() => setZoom(prev => !prev)}\r\n          />\r\n        )}\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default StoryModal;\r\n","import React from 'react';\r\nimport { BackTop } from 'antd';\r\n\r\nimport { StyledLayout } from 'components/Layout/Styles';\r\nimport { Header, Content, Footer } from 'components/Layout';\r\nimport DatePicker from 'components/DatePicker';\r\nimport Stories from 'components/Stories';\r\nimport Modal from 'components/Modal';\r\n\r\nfunction App() {\r\n  return (\r\n    <StyledLayout>\r\n      <Header />\r\n      <Content>\r\n        <DatePicker />\r\n        <Stories />\r\n      </Content>\r\n      <BackTop />\r\n      <Footer />\r\n      <Modal />\r\n    </StyledLayout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ReactGA from 'react-ga';\r\n\r\nimport ThemeProvider from 'context/ThemeContext';\r\nimport StoriesProvider from 'context/StoriesContext';\r\nimport GlobalStyle from 'styles/Global';\r\nimport App from 'App';\r\n\r\nReactGA.initialize('UA-178421575-1');\r\nReactGA.pageview('/');\r\n\r\nReactDOM.render(\r\n  <ThemeProvider>\r\n    <StoriesProvider>\r\n      <GlobalStyle />\r\n      <App />\r\n    </StoriesProvider>\r\n  </ThemeProvider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}